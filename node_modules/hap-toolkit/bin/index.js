/*
 * Copyright (C) 2017, hapjs.org. All rights reserved.
 */

const program = require('commander')
const chalk = require('chalk')

program
  .version(require('../package').version)
  .usage('<command> [options]')

program
  .command('init <app-name>')
  .description('create a new project')
  .action((name, cmd) => {
    require('../lib/command/init')(name)
  })

program
  .command('update')
  .description('update tools for project')
  .option('--force', 'force update tools for project')
  .action((name, cmd) => {
    require('../lib/command/update')()
  })

program.on('--help', () => {
  console.log()
  console.log(`  Run ${chalk.cyan(`hap <command> --help`)} for detailed usage of given command.`)
  console.log()
})

program.parse(process.argv)

if (!process.argv.slice(2).length) {
  program.outputHelp()
}
